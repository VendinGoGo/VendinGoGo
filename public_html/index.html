<!DOCTYPE html>
<!-- 
____   ____                 .___.__         ________         ________        
\   \ /   /____   ____    __| _/|__| ____  /  _____/  ____  /  _____/  ____  
 \   Y   // __ \ /    \  / __ | |  |/    \/   \  ___ /  _ \/   \  ___ /  _ \ 
  \     /\  ___/|   |  \/ /_/ | |  |   |  \    \_\  (  <_> )    \_\  (  <_> )
   \___/  \___  >___|  /\____ | |__|___|  /\______  /\____/ \______  /\____/ 
              \/     \/      \/         \/        \/               \/     
Brought to you by: Kaleb Pace, Josh Hawkins, Hunter Holder, and Eli Davis
-->

<html style="height:100%">

    <head>
        <title>VendinGoGo</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!--Load Style Sheets-->
        <link href="js/libs/twitter-bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <link href="style/index.css" rel="stylesheet">

    </head>

    <body style="height:100%">


        <nav class="navbar navbar-inverse navbar-fixed-top">
            <div class="container-fluid">
                <ul class="nav navbar-nav navbar-right">
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">EliCDavis <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li onclick="viewModel.switchToVendingCreationView()"><a href="#">Add Vending Location</a></li>
                            <li role="separator" class="divider"></li>
                            <li><a href="">Log Out</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </nav>


        <div class="container-fluid" style="height:100%">

            <div class="row" style="height:100%">

                <div class="col-md-3" id="sidebar" style='height:100%; max-height: 100%;overflow:auto;' >

                    <br/><br/><br/>

                    <div data-bind="if: shouldShowVendingMachineView">

                        <div data-bind="if: shouldShowMainView">
                            <div class="panel panel-default panel-success">

                                <div class="panel-body">
                                    <div data-bind="with: mainVendingMachine">

                                        <!--                                       
                                        <div class="progress" style="width:100%">
                                        
                                            <div class="progress-bar progress-bar-success" data-bind="style:{ width: (ups/(ups+downs))*100+'%'}" ></div>
                                            <div class="progress-bar progress-bar-danger" data-bind="style:{ width: (downs/(ups+downs))*100+'%'}" ></div>
                                        
                                            </div>
                                        -->

                                        <h4>How To Find:</h4>
                                        <p data-bind="text: $parent.getHowToFind"></p>

                                        <br/>
                                        
                                        <div data-bind="if: statuses.length > 0">
                                            <h4>Statuses:</h4>
                                            
                                            <div data-bind="foreach: statuses">
                                                <div class="well well-sm" role="alert" style="padding:8px;margin-bottom: 10px">
                                                    
                                                    <span  data-bind="text: comment"></span>

                                                    <br/>
                                                    <span class="label label-default" data-bind="text: date" style="margin-top: 15px;" ></span>
                                                    
                                                </div>

                                            </div>
                                            <br/>
                                        </div>

                                        <div>
                                            <h4>Leave Comment:</h4>
                                            <textarea class="form-control" data-bind="value: $parent.newCommentText"></textarea>
                                            <button class="btn btn-success" data-bind="click: $parent.leaveComment" style="margin-top: 5px;">Post</button>
                                            <br/><br/>
                                        </div>

                                        <span class="label label-success">Number of Machines: <span data-bind="html: numOfMachines"></span></span>

                                    </div>
                                </div>
                            </div>

                        </div>

                        <div data-bind="if: !shouldShowMainView() && getSmallLocationsToView().length === 0">
                            <center><h1>No Vending Locations Near You :(</h1></center>
                        </div>

                        <div class='row'>

                            <div data-bind='foreach: getSmallLocationsToView'>
                                <center class='col-md-4 col-lg-3 col-sm-6 col-xs-6' style='padding-left: 5px;padding-right: 5px;'>
                                    <button style='width:100%;margin-bottom: 10px;' type="button" class="btn btn-info"  
                                            data-bind="click:$parent.viewSmallLocation, event: {mouseover: $parent.animateSmallLocation, mouseout: $parent.stopSmallLocationAnimation}">
                                        View
                                    </button>
                                </center>
                            </div>

                        </div>

                    </div>


                    <div data-bind="if: shouldShowVendingCreationView">

                        <div  data-bind="if: creationMarker() ===null">
                            <div class="alert alert-danger" role="alert">
                                Right click on the map to set a vending location!
                            </div>
                        </div>

                        <span class="form-inline">Number of Machines in location: <input data-bind="value: creationNumMachines" class="form-control" type="number" min="1" placeholder="2"></span>

                        <br/><br/>

                        <span>Describe How To Find The Machines:</span>
                        <textarea data-bind="value:creationHowToFind" class="form-control" placeholder="To the left of the front entrance.."></textarea>

                        <br/>

                        <div  data-bind="if: creationMarker() !== null">
                            <button type="button" data-bind="click: createMachineLocation" class="btn btn-success">Create Machine</button>
                        </div>

                    </div>


                </div>

                <div class="col-md-9" style="padding-left: 0px;padding-right: 0px; height: 100%">
                    <div id="map"></div>
                </div>

            </div>

        </div>

        <!--Libraries-->
        <script src="js/libs/knockout/knockout-3.4.0.js"></script>
        <script src='js/libs/markerclusterer_compiled.js'></script>
        <script src="js/libs/jquery/jquery.min.js"></script>
        <script src="js/libs/twitter-bootstrap/js/bootstrap.js"></script>

        <!--our code-->
        <script src="js/src/maps.js"></script>

        <!--Make sure this  is loaded after map is so it doesn't try calling init before init is loaded onto the page-->
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCKdjL4G5gfdxhuqxVQTzVNmIUL7bE5-tE&callback=initMap" async defer></script>

    </body>

</html>
